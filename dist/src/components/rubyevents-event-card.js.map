{"version":3,"file":"rubyevents-event-card.js","sourceRoot":"","sources":["../../../src/components/rubyevents-event-card.ts"],"names":[],"mappings":"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","sourcesContent":["// RubyEvents Event Card Component\n// Displays a compact 16:9 event card with minimal details\n\nimport { html, css, TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseComponent } from '../base/BaseComponent.js';\nimport { cardStyles, badgeStyles } from '../base/styles.js';\nimport type { EventDetail } from '../types/api.js';\n\n@customElement('rubyevents-event-card')\nexport class RubyeventsEventCard extends BaseComponent<EventDetail> {\n  static styles = [\n    ...BaseComponent.styles,\n    cardStyles,\n    badgeStyles,\n    css`\n      .event-card {\n        position: relative;\n        aspect-ratio: 16 / 9;\n        border-radius: var(--rubyevents-border-radius);\n        overflow: hidden;\n        cursor: pointer;\n        transition: transform 0.2s ease, box-shadow 0.2s ease;\n      }\n\n      .event-card:hover {\n        transform: translateY(-2px);\n        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);\n      }\n\n      .event-card-link {\n        display: block;\n        width: 100%;\n        height: 100%;\n        text-decoration: none;\n        color: inherit;\n      }\n\n      .event-background {\n        position: absolute;\n        inset: 0;\n        background: linear-gradient(\n          135deg,\n          var(--rubyevents-primary-color) 0%,\n          var(--rubyevents-secondary-color) 100%\n        );\n      }\n\n      .event-background-image {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      .event-overlay {\n        position: absolute;\n        inset: 0;\n        background: linear-gradient(\n          to top,\n          rgba(0, 0, 0, 0.8) 0%,\n          rgba(0, 0, 0, 0.4) 50%,\n          rgba(0, 0, 0, 0.1) 100%\n        );\n      }\n\n      .event-content {\n        position: absolute;\n        inset: 0;\n        display: flex;\n        flex-direction: column;\n        justify-content: flex-end;\n        padding: 1rem;\n        color: white;\n      }\n\n      .event-avatar {\n        position: absolute;\n        top: 0.75rem;\n        left: 0.75rem;\n        width: 40px;\n        height: 40px;\n        border-radius: 6px;\n        object-fit: cover;\n        border: 2px solid rgba(255, 255, 255, 0.3);\n        background: rgba(255, 255, 255, 0.1);\n      }\n\n      .event-kind {\n        position: absolute;\n        top: 0.75rem;\n        right: 0.75rem;\n      }\n\n      .event-kind .badge {\n        background: rgba(255, 255, 255, 0.2);\n        color: white;\n        backdrop-filter: blur(4px);\n        font-size: 0.625rem;\n        text-transform: uppercase;\n        letter-spacing: 0.05em;\n      }\n\n      .event-title {\n        margin: 0 0 0.25rem 0;\n        font-size: 1.125rem;\n        font-weight: 600;\n        line-height: 1.25;\n        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n      }\n\n      .event-meta {\n        display: flex;\n        flex-wrap: wrap;\n        gap: 0.75rem;\n        font-size: 0.8125rem;\n        opacity: 0.9;\n      }\n\n      .event-meta-item {\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n      }\n\n      .event-meta-item svg {\n        width: 0.875rem;\n        height: 0.875rem;\n        opacity: 0.8;\n      }\n\n      /* Size variants */\n      :host([size='sm']) .event-card {\n        max-width: 280px;\n      }\n\n      :host([size='sm']) .event-title {\n        font-size: 0.9375rem;\n      }\n\n      :host([size='sm']) .event-meta {\n        font-size: 0.75rem;\n      }\n\n      :host([size='sm']) .event-content {\n        padding: 0.75rem;\n      }\n\n      :host([size='lg']) .event-card {\n        max-width: 380px;\n      }\n\n      :host([size='lg']) .event-title {\n        font-size: 1.375rem;\n      }\n\n      /* Loading skeleton */\n      .skeleton-card {\n        aspect-ratio: 16 / 9;\n        border-radius: var(--rubyevents-border-radius);\n        background: linear-gradient(\n          90deg,\n          var(--rubyevents-background-alt) 25%,\n          var(--rubyevents-border-color) 50%,\n          var(--rubyevents-background-alt) 75%\n        );\n        background-size: 200% 100%;\n        animation: shimmer 1.5s infinite;\n      }\n\n      @keyframes shimmer {\n        0% {\n          background-position: 200% 0;\n        }\n        100% {\n          background-position: -200% 0;\n        }\n      }\n    `,\n  ];\n\n  /**\n   * The event slug to fetch\n   */\n  @property({ type: String })\n  slug = '';\n\n  /**\n   * Size variant: 'sm', 'md' (default), or 'lg'\n   */\n  @property({ type: String, reflect: true })\n  size: 'sm' | 'md' | 'lg' = 'md';\n\n  /**\n   * Whether to show the event kind badge\n   */\n  @property({ type: Boolean, attribute: 'show-kind' })\n  showKind = true;\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.slug) {\n      this.fetchData();\n    }\n  }\n\n  updated(changedProperties: Map<string, unknown>) {\n    super.updated(changedProperties);\n    if (changedProperties.has('slug') || changedProperties.has('baseUrl')) {\n      this.fetchData();\n    }\n  }\n\n  protected async fetchData(): Promise<void> {\n    if (!this.slug || !this.api) return;\n\n    this.loadingState = 'loading';\n    this.error = null;\n\n    try {\n      this.data = await this.api.getEvent(this.slug);\n      this.loadingState = 'success';\n    } catch (err) {\n      this.error =\n        err instanceof Error ? err.message : 'Failed to load event';\n      this.loadingState = 'error';\n    }\n  }\n\n  protected renderContent(): TemplateResult {\n    if (!this.data) {\n      return html``;\n    }\n\n    const event = this.data;\n    const backgroundStyle = event.featured_background\n      ? `background: ${event.featured_background}`\n      : '';\n\n    return html`\n      <div class=\"event-card\">\n        <a\n          class=\"event-card-link\"\n          href=\"${event.url}\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div class=\"event-background\" style=${backgroundStyle}>\n            ${event.banner_url\n              ? html`<img\n                  class=\"event-background-image\"\n                  src=\"${event.banner_url}\"\n                  alt=\"\"\n                  loading=\"lazy\"\n                />`\n              : ''}\n          </div>\n          <div class=\"event-overlay\"></div>\n\n          <div class=\"event-content\">\n            ${event.avatar_url\n              ? html`<img\n                  class=\"event-avatar\"\n                  src=\"${event.avatar_url}\"\n                  alt=\"\"\n                  loading=\"lazy\"\n                />`\n              : ''}\n\n            ${this.showKind && event.kind\n              ? html`\n                  <div class=\"event-kind\">\n                    <span class=\"badge\">${event.kind}</span>\n                  </div>\n                `\n              : ''}\n\n            <h3 class=\"event-title\">${event.name}</h3>\n\n            <div class=\"event-meta\">\n              ${event.location\n                ? html`\n                    <span class=\"event-meta-item\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                        fill=\"currentColor\"\n                      >\n                        <path\n                          fill-rule=\"evenodd\"\n                          d=\"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z\"\n                          clip-rule=\"evenodd\"\n                        />\n                      </svg>\n                      ${event.location}\n                    </span>\n                  `\n                : ''}\n              ${event.start_date\n                ? html`\n                    <span class=\"event-meta-item\">\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        viewBox=\"0 0 20 20\"\n                        fill=\"currentColor\"\n                      >\n                        <path\n                          fill-rule=\"evenodd\"\n                          d=\"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z\"\n                          clip-rule=\"evenodd\"\n                        />\n                      </svg>\n                      ${this.formatDate(event.start_date)}\n                    </span>\n                  `\n                : ''}\n            </div>\n          </div>\n        </a>\n      </div>\n    `;\n  }\n\n  protected renderLoading(): TemplateResult {\n    return html`<div class=\"skeleton-card\"></div>`;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rubyevents-event-card': RubyeventsEventCard;\n  }\n}\n"]}