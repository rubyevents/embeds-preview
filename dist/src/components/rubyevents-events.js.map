{"version":3,"file":"rubyevents-events.js","sourceRoot":"","sources":["../../../src/components/rubyevents-events.ts"],"names":[],"mappings":"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","sourcesContent":["// RubyEvents Events Component\n// Displays a list of events with filtering options\n\nimport { html, css, TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseComponent } from '../base/BaseComponent.js';\nimport {\n  cardStyles,\n  listStyles,\n  badgeStyles,\n  utilityStyles,\n  avatarStyles,\n} from '../base/styles.js';\nimport type { EventsResponse, Event as RubyEvent } from '../types/api.js';\n\ntype EventFilter = 'upcoming' | 'past' | 'all';\n\n@customElement('rubyevents-events')\nexport class RubyeventsEvents extends BaseComponent<EventsResponse> {\n  static styles = [\n    ...BaseComponent.styles,\n    cardStyles,\n    listStyles,\n    badgeStyles,\n    utilityStyles,\n    avatarStyles,\n    css`\n      .events-container {\n        max-width: 600px;\n      }\n\n      .events-header {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 1rem;\n      }\n\n      .events-title {\n        margin: 0;\n        font-size: 1.125rem;\n        font-weight: 600;\n      }\n\n      .filter-select {\n        padding: 0.375rem 0.75rem;\n        font-size: 0.875rem;\n        border: 1px solid var(--rubyevents-border-color);\n        border-radius: var(--rubyevents-border-radius);\n        background: var(--rubyevents-background);\n        color: var(--rubyevents-text-color);\n        cursor: pointer;\n      }\n\n      .filter-select:focus {\n        outline: none;\n        border-color: var(--rubyevents-primary-color);\n      }\n\n      .event-item {\n        text-decoration: none;\n        color: inherit;\n      }\n\n      .event-details {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n        margin-top: 0.25rem;\n      }\n\n      .event-stat {\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        font-size: 0.75rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .event-stat svg {\n        width: 0.875rem;\n        height: 0.875rem;\n      }\n\n      .event-dates {\n        display: flex;\n        align-items: center;\n        gap: 0.25rem;\n        font-size: 0.75rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .event-dates svg {\n        width: 0.875rem;\n        height: 0.875rem;\n      }\n\n      .empty-state {\n        text-align: center;\n        padding: 2rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .event-card {\n        display: block;\n        text-decoration: none;\n        color: inherit;\n        border: 1px solid var(--rubyevents-border-color);\n        border-radius: var(--rubyevents-border-radius);\n        overflow: hidden;\n        background: var(--rubyevents-background);\n        transition: box-shadow 0.15s ease;\n      }\n\n      .event-card:hover {\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n      }\n\n      .event-banner {\n        width: 100%;\n        aspect-ratio: 16 / 6;\n        object-fit: cover;\n        display: block;\n      }\n\n      .event-banner-placeholder {\n        width: 100%;\n        aspect-ratio: 16 / 6;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 2rem;\n        font-weight: 600;\n        color: white;\n      }\n\n      .event-card-content {\n        padding: 1rem;\n      }\n\n      .event-card-title {\n        margin: 0 0 0.25rem 0;\n        font-size: 1rem;\n        font-weight: 600;\n      }\n\n      .event-card-location {\n        margin: 0 0 0.5rem 0;\n        font-size: 0.875rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .events-grid {\n        display: grid;\n        gap: 1rem;\n      }\n\n      .event-avatar {\n        width: 48px;\n        height: 48px;\n        border-radius: var(--rubyevents-border-radius);\n        object-fit: cover;\n        flex-shrink: 0;\n      }\n\n      .event-avatar-placeholder {\n        width: 48px;\n        height: 48px;\n        border-radius: var(--rubyevents-border-radius);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.25rem;\n        font-weight: 600;\n        color: white;\n        flex-shrink: 0;\n      }\n    `,\n  ];\n\n  /**\n   * Filter events by: 'upcoming', 'past', or 'all'\n   */\n  @property({ type: String })\n  filter: EventFilter = 'upcoming';\n\n  /**\n   * Maximum number of events to display\n   */\n  @property({ type: Number })\n  limit = 10;\n\n  /**\n   * Whether to show the filter dropdown\n   */\n  @property({ type: Boolean, attribute: 'show-filter' })\n  showFilter = false;\n\n  /**\n   * Custom title for the events list\n   */\n  @property({ type: String })\n  title = '';\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.fetchData();\n  }\n\n  updated(changedProperties: Map<string, unknown>) {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has('filter') ||\n      changedProperties.has('limit') ||\n      changedProperties.has('baseUrl')\n    ) {\n      this.fetchData();\n    }\n  }\n\n  protected async fetchData(): Promise<void> {\n    if (!this.api) return;\n\n    this.loadingState = 'loading';\n    this.error = null;\n\n    try {\n      this.data = await this.api.getEvents(this.filter);\n      this.loadingState = 'success';\n    } catch (err) {\n      this.error =\n        err instanceof Error ? err.message : 'Failed to load events';\n      this.loadingState = 'error';\n    }\n  }\n\n  private handleFilterChange(e: Event) {\n    const select = e.target as HTMLSelectElement;\n    this.filter = select.value as EventFilter;\n  }\n\n  private getTitle(): string {\n    if (this.title) return this.title;\n    switch (this.filter) {\n      case 'upcoming':\n        return 'Upcoming Events';\n      case 'past':\n        return 'Past Events';\n      default:\n        return 'Ruby Events';\n    }\n  }\n\n  protected renderContent(): TemplateResult {\n    if (!this.data) {\n      return html``;\n    }\n\n    const events = this.data.events.slice(0, this.limit);\n\n    return html`\n      <div class=\"events-container\">\n        <div class=\"events-header\">\n          <h3 class=\"events-title\">${this.getTitle()}</h3>\n          ${this.showFilter\n            ? html`\n                <select\n                  class=\"filter-select\"\n                  @change=${this.handleFilterChange}\n                  .value=${this.filter}\n                >\n                  <option value=\"upcoming\">Upcoming</option>\n                  <option value=\"past\">Past</option>\n                  <option value=\"all\">All</option>\n                </select>\n              `\n            : ''}\n        </div>\n\n        ${events.length > 0\n          ? html`\n              <div class=\"list\">\n                ${events.map(event => this.renderEvent(event))}\n              </div>\n            `\n          : html`\n              <div class=\"empty-state\">\n                <p>No ${this.filter === 'all' ? '' : this.filter} events found.</p>\n              </div>\n            `}\n        ${this.renderFooter()}\n      </div>\n    `;\n  }\n\n  private getEventInitial(name: string): string {\n    return name ? name.charAt(0).toUpperCase() : '?';\n  }\n\n  private getEventBackground(event: RubyEvent): string {\n    if (event.featured_background) {\n      return event.featured_background;\n    }\n    return 'var(--rubyevents-primary-color)';\n  }\n\n  private renderEvent(event: RubyEvent): TemplateResult {\n    return html`\n      <a\n        href=\"${event.url}\"\n        class=\"list-item event-item\"\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        ${event.avatar_url\n          ? html`<img\n              class=\"event-avatar\"\n              src=\"${event.avatar_url}\"\n              alt=\"${event.name}\"\n              loading=\"lazy\"\n            />`\n          : html`<div\n              class=\"event-avatar-placeholder\"\n              style=\"background: ${this.getEventBackground(event)}\"\n            >\n              ${this.getEventInitial(event.name)}\n            </div>`}\n        <div class=\"list-item-content\">\n          <h4 class=\"list-item-title\">${event.name}</h4>\n          <p class=\"list-item-subtitle\">${event.location}</p>\n          ${event.start_date\n            ? html`\n                <div class=\"event-dates\">\n                  <svg\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    viewBox=\"0 0 20 20\"\n                    fill=\"currentColor\"\n                  >\n                    <path\n                      fill-rule=\"evenodd\"\n                      d=\"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z\"\n                      clip-rule=\"evenodd\"\n                    />\n                  </svg>\n                  ${this.formatDate(event.start_date)}\n                  ${event.end_date && event.end_date !== event.start_date\n                    ? ` - ${this.formatDate(event.end_date)}`\n                    : ''}\n                </div>\n              `\n            : ''}\n        </div>\n      </a>\n    `;\n  }\n\n  protected renderLoading(): TemplateResult {\n    return html`\n      <div class=\"events-container\">\n        <div class=\"events-header\">\n          <div class=\"skeleton skeleton-text\" style=\"width: 150px\"></div>\n        </div>\n        <div class=\"list\">\n          ${[1, 2, 3].map(\n            () => html`\n              <div class=\"list-item\">\n                <div\n                  class=\"skeleton\"\n                  style=\"width: 48px; height: 48px; border-radius: var(--rubyevents-border-radius); flex-shrink: 0\"\n                ></div>\n                <div class=\"list-item-content\">\n                  <div class=\"skeleton skeleton-text\" style=\"width: 80%\"></div>\n                  <div class=\"skeleton skeleton-text\" style=\"width: 50%\"></div>\n                  <div class=\"skeleton skeleton-text\" style=\"width: 60%\"></div>\n                </div>\n              </div>\n            `\n          )}\n        </div>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rubyevents-events': RubyeventsEvents;\n  }\n}\n"]}