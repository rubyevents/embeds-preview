{"version":3,"file":"rubyevents-passport.js","sourceRoot":"","sources":["../../../src/components/rubyevents-passport.ts"],"names":[],"mappings":"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","sourcesContent":["// RubyEvents Passport Component\n// Displays stamps in a passport/stamp book style layout\n\nimport { html, css, TemplateResult } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\nimport { BaseComponent } from '../base/BaseComponent.js';\nimport { footerStyles, tabStyles } from '../base/styles.js';\nimport type { StampsResponse, Stamp } from '../types/api.js';\n\ntype PassportTab = 'all' | 'countries' | 'events' | 'achievements';\n\n@customElement('rubyevents-passport')\nexport class RubyeventsPassport extends BaseComponent<StampsResponse> {\n  static styles = [\n    ...BaseComponent.styles,\n    footerStyles,\n    tabStyles,\n    css`\n      .passport-container {\n        max-width: 500px;\n        margin: 0 auto;\n      }\n\n      .passport {\n        position: relative;\n        background: linear-gradient(145deg, #1a3a52 0%, #0d2233 100%);\n        border-radius: 8px;\n        padding: 1.5rem;\n        box-shadow:\n          0 10px 40px rgba(0, 0, 0, 0.3),\n          inset 0 1px 0 rgba(255, 255, 255, 0.1);\n        overflow: hidden;\n      }\n\n      .passport::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 4px;\n        background: linear-gradient(90deg, #c9a227 0%, #f4d35e 50%, #c9a227 100%);\n      }\n\n      .passport::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 4px;\n        background: linear-gradient(90deg, #c9a227 0%, #f4d35e 50%, #c9a227 100%);\n      }\n\n      .passport-header {\n        text-align: center;\n        margin-bottom: 1.5rem;\n        color: #f4d35e;\n      }\n\n      .passport-emblem {\n        width: 48px;\n        height: 48px;\n        margin: 0 auto 0.5rem;\n        background: linear-gradient(145deg, #f4d35e 0%, #c9a227 100%);\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-size: 1.5rem;\n        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);\n      }\n\n      .passport-title {\n        margin: 0;\n        font-size: 0.875rem;\n        font-weight: 600;\n        text-transform: uppercase;\n        letter-spacing: 0.15em;\n        color: #f4d35e;\n      }\n\n      .passport-subtitle {\n        margin: 0.25rem 0 0;\n        font-size: 0.75rem;\n        color: rgba(244, 211, 94, 0.7);\n        text-transform: uppercase;\n        letter-spacing: 0.1em;\n      }\n\n      .passport-owner {\n        text-align: center;\n        margin-bottom: 1rem;\n        padding: 0.75rem;\n        background: rgba(255, 255, 255, 0.05);\n        border-radius: 4px;\n        border: 1px solid rgba(244, 211, 94, 0.2);\n      }\n\n      .passport-owner-label {\n        font-size: 0.625rem;\n        color: rgba(244, 211, 94, 0.6);\n        text-transform: uppercase;\n        letter-spacing: 0.1em;\n        margin-bottom: 0.25rem;\n      }\n\n      .passport-owner-name {\n        font-size: 1rem;\n        font-weight: 600;\n        color: white;\n      }\n\n      .passport-stats {\n        display: flex;\n        justify-content: center;\n        gap: 1.5rem;\n        margin-bottom: 1rem;\n        padding-bottom: 1rem;\n        border-bottom: 1px solid rgba(244, 211, 94, 0.2);\n      }\n\n      .passport-stat {\n        text-align: center;\n      }\n\n      .passport-stat-value {\n        font-size: 1.25rem;\n        font-weight: 700;\n        color: #f4d35e;\n      }\n\n      .passport-stat-label {\n        font-size: 0.625rem;\n        color: rgba(244, 211, 94, 0.6);\n        text-transform: uppercase;\n        letter-spacing: 0.05em;\n      }\n\n      .passport-tabs {\n        display: flex;\n        gap: 0.25rem;\n        margin-bottom: 1rem;\n        border-bottom: 1px solid rgba(244, 211, 94, 0.2);\n      }\n\n      .passport-tab {\n        flex: 1;\n        padding: 0.5rem 0.25rem;\n        font-size: 0.6875rem;\n        font-weight: 500;\n        color: rgba(244, 211, 94, 0.6);\n        background: none;\n        border: none;\n        border-bottom: 2px solid transparent;\n        cursor: pointer;\n        transition: color 0.15s ease, border-color 0.15s ease;\n        text-transform: uppercase;\n        letter-spacing: 0.05em;\n      }\n\n      .passport-tab:hover {\n        color: rgba(244, 211, 94, 0.9);\n      }\n\n      .passport-tab.active {\n        color: #f4d35e;\n        border-bottom-color: #f4d35e;\n      }\n\n      .stamps-page {\n        background: #f5f0e1;\n        border-radius: 4px;\n        padding: 1rem;\n        min-height: 200px;\n        position: relative;\n        box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);\n      }\n\n      .stamps-page::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 50%;\n        bottom: 0;\n        width: 1px;\n        background: rgba(0, 0, 0, 0.1);\n      }\n\n      .stamps-grid {\n        display: grid;\n        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));\n        gap: 0.75rem;\n      }\n\n      .stamp {\n        position: relative;\n        aspect-ratio: 1;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        transition: transform 0.2s ease, filter 0.2s ease;\n      }\n\n      .stamp:hover {\n        transform: scale(1.15) rotate(0deg) !important;\n        filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));\n        z-index: 1;\n      }\n\n      .stamp img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n      }\n\n      .stamp-placeholder {\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.05);\n        border: 2px dashed rgba(0, 0, 0, 0.15);\n        border-radius: 4px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: rgba(0, 0, 0, 0.2);\n        font-size: 1.5rem;\n      }\n\n      .empty-page {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        height: 150px;\n        color: rgba(0, 0, 0, 0.3);\n        text-align: center;\n      }\n\n      .empty-page-icon {\n        font-size: 2rem;\n        margin-bottom: 0.5rem;\n      }\n\n      .empty-page-text {\n        font-size: 0.875rem;\n      }\n\n      .section-label {\n        font-size: 0.6875rem;\n        font-weight: 600;\n        color: rgba(0, 0, 0, 0.4);\n        text-transform: uppercase;\n        letter-spacing: 0.1em;\n        margin-bottom: 0.75rem;\n        padding-bottom: 0.5rem;\n        border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n      }\n\n      .stamps-section {\n        margin-bottom: 1.5rem;\n      }\n\n      .stamps-section:last-child {\n        margin-bottom: 0;\n      }\n\n      /* Loading skeleton */\n      .skeleton-passport {\n        background: linear-gradient(\n          90deg,\n          var(--rubyevents-background-alt) 25%,\n          var(--rubyevents-border-color) 50%,\n          var(--rubyevents-background-alt) 75%\n        );\n        background-size: 200% 100%;\n        animation: shimmer 1.5s infinite;\n        border-radius: 8px;\n        height: 400px;\n      }\n\n      @keyframes shimmer {\n        0% {\n          background-position: 200% 0;\n        }\n        100% {\n          background-position: -200% 0;\n        }\n      }\n\n      .powered-by {\n        color: rgba(244, 211, 94, 0.6);\n        border-top-color: rgba(244, 211, 94, 0.2);\n      }\n\n      .powered-by a {\n        color: #f4d35e;\n      }\n    `,\n  ];\n\n  /**\n   * The user slug to fetch stamps for\n   */\n  @property({ type: String })\n  slug = '';\n\n  /**\n   * The active tab\n   */\n  @property({ type: String })\n  tab: PassportTab = 'all';\n\n  /**\n   * Whether to show section headers in 'all' view\n   */\n  @property({ type: Boolean, attribute: 'show-sections' })\n  showSections = true;\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.slug) {\n      this.fetchData();\n    }\n  }\n\n  updated(changedProperties: Map<string, unknown>) {\n    super.updated(changedProperties);\n    if (changedProperties.has('slug') || changedProperties.has('baseUrl')) {\n      this.fetchData();\n    }\n  }\n\n  protected async fetchData(): Promise<void> {\n    if (!this.slug || !this.api) return;\n\n    this.loadingState = 'loading';\n    this.error = null;\n\n    try {\n      this.data = await this.api.getStamps(this.slug);\n      this.loadingState = 'success';\n    } catch (err) {\n      this.error =\n        err instanceof Error ? err.message : 'Failed to load stamps';\n      this.loadingState = 'error';\n    }\n  }\n\n  private handleTabClick(tab: PassportTab) {\n    this.tab = tab;\n  }\n\n  protected renderContent(): TemplateResult {\n    if (!this.data) {\n      return html``;\n    }\n\n    const { grouped } = this.data;\n\n    return html`\n      <div class=\"passport-container\">\n        <div class=\"passport\">\n          <div class=\"passport-header\">\n            <div class=\"passport-emblem\">ðŸ’Ž</div>\n            <h3 class=\"passport-title\">Ruby Passport</h3>\n            <p class=\"passport-subtitle\">Conference Collection</p>\n          </div>\n\n          <div class=\"passport-owner\">\n            <div class=\"passport-owner-label\">Passport Holder</div>\n            <div class=\"passport-owner-name\">${this.data.user.name}</div>\n          </div>\n\n          <div class=\"passport-stats\">\n            <div class=\"passport-stat\">\n              <div class=\"passport-stat-value\">${grouped.countries.length}</div>\n              <div class=\"passport-stat-label\">Countries</div>\n            </div>\n            <div class=\"passport-stat\">\n              <div class=\"passport-stat-value\">${grouped.events.length}</div>\n              <div class=\"passport-stat-label\">Events</div>\n            </div>\n            <div class=\"passport-stat\">\n              <div class=\"passport-stat-value\">${grouped.achievements.length}</div>\n              <div class=\"passport-stat-label\">Badges</div>\n            </div>\n          </div>\n\n          <div class=\"passport-tabs\">\n            <button\n              class=\"passport-tab ${this.tab === 'all' ? 'active' : ''}\"\n              @click=${() => this.handleTabClick('all')}\n            >\n              All\n            </button>\n            <button\n              class=\"passport-tab ${this.tab === 'countries' ? 'active' : ''}\"\n              @click=${() => this.handleTabClick('countries')}\n            >\n              Countries\n            </button>\n            <button\n              class=\"passport-tab ${this.tab === 'events' ? 'active' : ''}\"\n              @click=${() => this.handleTabClick('events')}\n            >\n              Events\n            </button>\n            <button\n              class=\"passport-tab ${this.tab === 'achievements' ? 'active' : ''}\"\n              @click=${() => this.handleTabClick('achievements')}\n            >\n              Badges\n            </button>\n          </div>\n\n          <div class=\"stamps-page\">\n            ${this.renderStampsContent()}\n          </div>\n\n          ${this.showFooter\n            ? html`\n                <div class=\"powered-by\">\n                  Powered by\n                  <a\n                    href=\"${this.baseUrl}\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    RubyEvents.org\n                  </a>\n                </div>\n              `\n            : ''}\n        </div>\n      </div>\n    `;\n  }\n\n  private renderStampsContent(): TemplateResult {\n    if (!this.data) return html``;\n\n    const { grouped } = this.data;\n\n    switch (this.tab) {\n      case 'countries':\n        return this.renderStampSection(grouped.countries, 'No countries visited yet');\n      case 'events':\n        return this.renderStampSection(grouped.events, 'No event stamps collected yet');\n      case 'achievements':\n        return this.renderStampSection(grouped.achievements, 'No badges earned yet');\n      default:\n        return this.renderAllStamps();\n    }\n  }\n\n  private renderAllStamps(): TemplateResult {\n    if (!this.data) return html``;\n\n    const { grouped } = this.data;\n    const hasAnyStamps =\n      grouped.countries.length > 0 ||\n      grouped.events.length > 0 ||\n      grouped.achievements.length > 0;\n\n    if (!hasAnyStamps) {\n      return html`\n        <div class=\"empty-page\">\n          <div class=\"empty-page-icon\">ðŸ“­</div>\n          <div class=\"empty-page-text\">No stamps collected yet</div>\n        </div>\n      `;\n    }\n\n    return html`\n      ${grouped.countries.length > 0\n        ? html`\n            <div class=\"stamps-section\">\n              ${this.showSections\n                ? html`<div class=\"section-label\">Countries Visited</div>`\n                : ''}\n              <div class=\"stamps-grid\">\n                ${grouped.countries.map(stamp => this.renderStamp(stamp))}\n              </div>\n            </div>\n          `\n        : ''}\n      ${grouped.events.length > 0\n        ? html`\n            <div class=\"stamps-section\">\n              ${this.showSections\n                ? html`<div class=\"section-label\">Event Stamps</div>`\n                : ''}\n              <div class=\"stamps-grid\">\n                ${grouped.events.map(stamp => this.renderStamp(stamp))}\n              </div>\n            </div>\n          `\n        : ''}\n      ${grouped.achievements.length > 0\n        ? html`\n            <div class=\"stamps-section\">\n              ${this.showSections\n                ? html`<div class=\"section-label\">Achievement Badges</div>`\n                : ''}\n              <div class=\"stamps-grid\">\n                ${grouped.achievements.map(stamp => this.renderStamp(stamp))}\n              </div>\n            </div>\n          `\n        : ''}\n    `;\n  }\n\n  private renderStampSection(stamps: Stamp[], emptyMessage: string): TemplateResult {\n    if (stamps.length === 0) {\n      return html`\n        <div class=\"empty-page\">\n          <div class=\"empty-page-icon\">ðŸ“­</div>\n          <div class=\"empty-page-text\">${emptyMessage}</div>\n        </div>\n      `;\n    }\n\n    return html`\n      <div class=\"stamps-grid\">\n        ${stamps.map(stamp => this.renderStamp(stamp))}\n      </div>\n    `;\n  }\n\n  private getStampRotation(stamp: Stamp): number {\n    // Generate a consistent random rotation based on the stamp code\n    let hash = 0;\n    const str = stamp.code || stamp.name;\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = ((hash << 5) - hash) + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    // Return a rotation between -12 and 12 degrees\n    return (Math.abs(hash) % 25) - 12;\n  }\n\n  private renderStamp(stamp: Stamp): TemplateResult {\n    const rotation = this.getStampRotation(stamp);\n    return html`\n      <div class=\"stamp\" title=\"${stamp.name}\" style=\"transform: rotate(${rotation}deg)\">\n        ${stamp.image_url\n          ? html`<img\n              src=\"${stamp.image_url}\"\n              alt=\"${stamp.name}\"\n              loading=\"lazy\"\n            />`\n          : html`<div class=\"stamp-placeholder\">?</div>`}\n      </div>\n    `;\n  }\n\n  protected renderLoading(): TemplateResult {\n    return html`\n      <div class=\"passport-container\">\n        <div class=\"skeleton-passport\"></div>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rubyevents-passport': RubyeventsPassport;\n  }\n}\n"]}