{"version":3,"file":"rubyevents-talk.js","sourceRoot":"","sources":["../../../src/components/rubyevents-talk.ts"],"names":[],"mappings":"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","sourcesContent":["// RubyEvents Talk Component\n// Displays a single talk card with video thumbnail, title, speakers, and event info\n\nimport { html, css, TemplateResult } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\nimport { BaseComponent } from '../base/BaseComponent.js';\nimport {\n  cardStyles,\n  thumbnailStyles,\n  avatarStyles,\n  badgeStyles,\n  utilityStyles,\n} from '../base/styles.js';\nimport type { Talk } from '../types/api.js';\n\n@customElement('rubyevents-talk')\nexport class RubyeventsTalk extends BaseComponent<Talk> {\n  static styles = [\n    ...BaseComponent.styles,\n    cardStyles,\n    thumbnailStyles,\n    avatarStyles,\n    badgeStyles,\n    utilityStyles,\n    css`\n      .talk-card {\n        max-width: 400px;\n      }\n\n      .talk-card a {\n        color: inherit;\n        text-decoration: none;\n      }\n\n      .talk-card a:hover .card-title {\n        color: var(--rubyevents-primary-color);\n      }\n\n      .talk-meta {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        margin-top: 0.75rem;\n        font-size: 0.8125rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .speakers {\n        display: flex;\n        align-items: center;\n        gap: 0.5rem;\n        margin-top: 0.5rem;\n      }\n\n      .speaker-names {\n        font-size: 0.875rem;\n        color: var(--rubyevents-text-muted);\n      }\n\n      .event-info {\n        display: flex;\n        align-items: center;\n        gap: 0.375rem;\n        font-size: 0.8125rem;\n        color: var(--rubyevents-text-muted);\n        margin-top: 0.5rem;\n      }\n\n      .event-info + .event-info {\n        margin-top: 0.125rem;\n      }\n\n      .event-info svg {\n        width: 0.875rem;\n        height: 0.875rem;\n        flex-shrink: 0;\n      }\n    `,\n  ];\n\n  /**\n   * The slug of the talk to display\n   */\n  @property({ type: String })\n  slug = '';\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.slug) {\n      this.fetchData();\n    }\n  }\n\n  updated(changedProperties: Map<string, unknown>) {\n    super.updated(changedProperties);\n    if (changedProperties.has('slug') && this.slug) {\n      this.fetchData();\n    }\n  }\n\n  protected async fetchData(): Promise<void> {\n    if (!this.slug || !this.api) return;\n\n    this.loadingState = 'loading';\n    this.error = null;\n\n    try {\n      this.data = await this.api.getTalk(this.slug);\n      this.loadingState = 'success';\n    } catch (err) {\n      this.error = err instanceof Error ? err.message : 'Failed to load talk';\n      this.loadingState = 'error';\n    }\n  }\n\n  protected renderContent(): TemplateResult {\n    if (!this.data) {\n      return html``;\n    }\n\n    const talk = this.data;\n    const speakerNames = talk.speakers.map(s => s.name).join(', ');\n\n    return html`\n      <div class=\"talk-card card\">\n        <a\n          href=\"${talk.url}\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          aria-label=\"${talk.title}\"\n        >\n          <div class=\"thumbnail\">\n            ${talk.thumbnail_url\n              ? html`<img\n                  src=\"${talk.thumbnail_url}\"\n                  alt=\"${talk.title}\"\n                  loading=\"lazy\"\n                />`\n              : html`<div class=\"skeleton skeleton-thumbnail\"></div>`}\n            ${talk.duration_in_seconds\n              ? html`<span class=\"duration\"\n                  >${this.formatDuration(talk.duration_in_seconds)}</span\n                >`\n              : ''}\n          </div>\n          <div class=\"card-body\">\n            <h3 class=\"card-title line-clamp-2\">${talk.title}</h3>\n\n            ${talk.speakers.length > 0\n              ? html`\n                  <div class=\"speakers\">\n                    <div class=\"avatar-group\">\n                      ${talk.speakers.slice(0, 3).map(\n                        speaker => html`\n                          <img\n                            class=\"avatar avatar-sm\"\n                            src=\"${speaker.avatar_url}\"\n                            alt=\"${speaker.name}\"\n                            loading=\"lazy\"\n                          />\n                        `\n                      )}\n                    </div>\n                    <span class=\"speaker-names truncate\">${speakerNames}</span>\n                  </div>\n                `\n              : ''}\n            ${talk.event\n              ? html`\n                  <div class=\"event-info\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      viewBox=\"0 0 20 20\"\n                      fill=\"currentColor\"\n                    >\n                      <path\n                        fill-rule=\"evenodd\"\n                        d=\"M5.75 2a.75.75 0 01.75.75V4h7V2.75a.75.75 0 011.5 0V4h.25A2.75 2.75 0 0118 6.75v8.5A2.75 2.75 0 0115.25 18H4.75A2.75 2.75 0 012 15.25v-8.5A2.75 2.75 0 014.75 4H5V2.75A.75.75 0 015.75 2zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75z\"\n                        clip-rule=\"evenodd\"\n                      />\n                    </svg>\n                    <span class=\"truncate\">${talk.event.name}</span>\n                  </div>\n                  ${talk.event.location\n                    ? html`\n                        <div class=\"event-info\">\n                          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                            <path fill-rule=\"evenodd\" d=\"M9.69 18.933l.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 00.281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 103 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 002.273 1.765 11.842 11.842 0 00.976.544l.062.029.018.008.006.003zM10 11.25a2.25 2.25 0 100-4.5 2.25 2.25 0 000 4.5z\" clip-rule=\"evenodd\" />\n                          </svg>\n                          <span>${talk.event.location}</span>\n                        </div>\n                      `\n                    : ''}\n                `\n              : ''}\n            ${talk.date\n              ? html`\n                  <div class=\"talk-meta\">\n                    <span>${this.formatDate(talk.date)}</span>\n                  </div>\n                `\n              : ''}\n            ${this.renderFooter()}\n          </div>\n        </a>\n      </div>\n    `;\n  }\n\n  protected renderLoading(): TemplateResult {\n    return html`\n      <div class=\"talk-card card\">\n        <div class=\"skeleton skeleton-thumbnail\"></div>\n        <div class=\"card-body\">\n          <div class=\"skeleton skeleton-text\" style=\"width: 90%\"></div>\n          <div class=\"skeleton skeleton-text\" style=\"width: 70%\"></div>\n          <div class=\"speakers\" style=\"margin-top: 0.5rem\">\n            <div class=\"skeleton skeleton-avatar\"></div>\n            <div class=\"skeleton skeleton-text\" style=\"width: 120px\"></div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'rubyevents-talk': RubyeventsTalk;\n  }\n}\n"]}